@import "tailwindcss"; /* âœ… v4 single import */
@import "tw-animate-css"; /* optional, after Tailwind */

/* (optional) v4 design tokens â€“ you can keep :root or use @theme */
:root {
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-3xl: 1.25rem;
  --color-slate-950: #0a0f1a;
}

/* Buttons (auto-theme aware) */
@layer components {
  .btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.75rem; /* rounded-xl */
    background-image: linear-gradient(to bottom right, #06b6d4, #3b82f6);
    padding-left: 1rem;
    padding-right: 1rem;
    padding-top: 0.625rem;
    padding-bottom: 0.625rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: #0f172a; /* slate-900 */
    box-shadow: 0 10px 15px -3px rgba(6, 182, 212, 0.2);
    transition: all 0.2s;
    outline: none;
  }
  .btn-primary:hover {
    background-image: linear-gradient(to bottom right, #22d3ee, #60a5fa);
  }
  .btn-primary:focus {
    box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.6);
  }

  /* ðŸ‘‡ btn-ghost now auto-themes (dark & light) */
  .btn-ghost {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.75rem;
    border: 1px solid var(--border);
    background-color: var(--surface);
    padding-left: 1rem;
    padding-right: 1rem;
    padding-top: 0.625rem;
    padding-bottom: 0.625rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--fg);
    transition: all 0.2s;
    outline: none;
  }
  .btn-ghost:hover {
    background-color: var(--surface-hover);
  }
  .btn-ghost:focus {
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--border), currentColor 35%);
  }

  .btn-gold {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.75rem;
    padding-left: 1rem;
    padding-right: 1rem;
    padding-top: 0.625rem;
    padding-bottom: 0.625rem;
    font-size: 0.875rem;
    font-weight: 500;
    outline: none;
    transition: all 0.2s;
    border: 1px solid rgba(255, 215, 0, 0.25);
    background-image: linear-gradient(to bottom right, #f8d778, #e6b84c);
    color: #0f172a; /* slate-900 */
    box-shadow: 0 10px 15px -3px rgba(230, 184, 76, 0.25);
  }
  .btn-gold:hover {
    background-image: linear-gradient(to bottom right, #ffe08a, #f0c35d);
  }
  .btn-gold:focus {
    box-shadow: 0 0 0 2px rgba(230, 184, 76, 0.45);
  }
}

/* Optional divider */
.kufic-divider {
  background-image: linear-gradient(
    to right,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  height: 1px;
}

/* Modern text wrap */
.text-balance {
  text-wrap: balance;
}
.text-pretty {
  text-wrap: pretty;
}

/* Reveal utilities */
[data-reveal="off"] > * {
  opacity: 0;
  transform: translateY(8px);
}
[data-reveal="on"] > * {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.5s ease, transform 0.5s ease;
}

h2[id] {
  scroll-margin-top: 6rem;
}

@keyframes page-progress {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(30%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* === Theme tokens (dark default) === */
:root {
  /* page */
  --bg: #0a0f1a; /* slate-950 */
  --fg: #e6edf5; /* main text on dark */
  --fg-muted: rgba(226, 232, 240, 0.8);
  --fg-soft: rgba(226, 232, 240, 0.65);

  /* surfaces */
  --surface: rgba(255, 255, 255, 0.05);
  --surface-hover: rgba(255, 255, 255, 0.07);
  --border: rgba(255, 255, 255, 0.1);
}

/* === Light mode (when html does NOT have .dark) === */
html:not(.dark) {
  --bg: #f8fafc; /* slate-50 */
  --fg: #0b1220; /* near slate-900 */
  --fg-muted: #334155; /* slate-700 (subtitles) */
  --fg-soft: #475569; /* slate-600 (meta) */
  --surface: rgba(0, 0, 0, 0.04);
  --surface-hover: rgba(0, 0, 0, 0.06);
  --border: rgba(0, 0, 0, 0.12);
}

/* Base */
html,
body {
  background: var(--bg);
  color: var(--fg);
}

/* Glass auto-theme */
@layer components {
  .glass {
    border-radius: 1.25rem;
    border: 1px solid var(--border);
    background-color: var(--surface);
    backdrop-filter: blur(12px);
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.06);
  }
}

/* ---------- Light-mode targeted fixes ---------- */

/* Header & nav should always be strong in light mode */
html:not(.dark) header,
html:not(.dark) nav {
  color: var(--fg);
}
html:not(.dark) header a,
html:not(.dark) nav a {
  color: var(--fg);
  opacity: 0.92;
}
html:not(.dark) header a:hover,
html:not(.dark) nav a:hover {
  opacity: 1;
}

/* Common utilities you use on toolbars/cards */
html:not(.dark) .bg-white\/5 {
  background-color: var(--surface) !important;
}
html:not(.dark) .hover\:bg-white\/7:hover {
  background-color: var(--surface-hover) !important;
}
html:not(.dark) .border-white\/10 {
  border-color: var(--border) !important;
}
html:not(.dark) .hover\:border-white\/20:hover {
  border-color: color-mix(in oklab, var(--border), black 30%) !important;
}

/* Text contrast bumps in light mode (maps your frequent classes) */
html:not(.dark) .text-slate-300,
html:not(.dark) .text-slate-300\/80,
html:not(.dark) .text-slate-300\/85,
html:not(.dark) .text-slate-300\/90 {
  color: var(--fg-muted) !important;
}

html:not(.dark) .text-slate-400,
html:not(.dark) .text-slate-400\/90 {
  color: var(--fg-soft) !important;
}

/* Input text/placeholder */
html:not(.dark) input,
html:not(.dark) textarea,
html:not(.dark) select {
  color: var(--fg) !important;
}
html:not(.dark) ::placeholder {
  color: var(--fg-soft) !important;
}

/* Chip states in search toolbars (Articles/Questions/Refutations) */
html:not(.dark) .border-cyan-400\/50 {
  border-color: rgba(14, 116, 144, 0.42) !important;
} /* cyan-700/42 */
html:not(.dark) .bg-cyan-400\/10 {
  background-color: rgba(14, 116, 144, 0.1) !important;
}
html:not(.dark) .text-cyan-200,
html:not(.dark) .text-cyan-300 {
  color: #0e7490 !important;
} /* cyan-700 */
html:not(.dark) .text-slate-300:hover {
  color: var(--fg) !important;
} /* hover legibility */

/* Badges/labels (keep readable on light) */
html:not(.dark) .text-amber-300 {
  color: #b45309 !important;
} /* amber-700 */
html:not(.dark) .text-fuchsia-300 {
  color: #a21caf !important;
} /* fuchsia-700 */
html:not(.dark) .text-emerald-300 {
  color: #047857 !important;
} /* emerald-700 */
html:not(.dark) .text-rose-200,
html:not(.dark) .text-rose-300 {
  color: #9f1239 !important;
} /* rose-700 */

/* IMPORTANT: keep over-image text BRIGHT in both themes.
   Use the .on-image helper on any text that sits on a photo/overlay. */
.on-image {
  color: #e6edf5 !important;
  text-shadow: 0 1px 2px rgba(2, 6, 23, 0.35);
}

/* If you want a lighter overlay in light mode, you can opt-in with this class on the overlay div */
html:not(.dark) .overlay-soft {
  background: linear-gradient(
    to top,
    rgba(248, 250, 252, 0.92),
    rgba(248, 250, 252, 0.6),
    rgba(248, 250, 252, 0.24),
    transparent
  ) !important;
}

/* === Light mode contrast bump (global) === */
html:not(.dark) .text-slate-100,
html:not(.dark) .text-slate-100\/90,
html:not(.dark) .text-slate-200,
html:not(.dark) .text-slate-200\/90,
html:not(.dark) .text-slate-200\/95,
html:not(.dark) .text-slate-300,
html:not(.dark) .text-slate-300\/80,
html:not(.dark) .text-slate-300\/85,
html:not(.dark) .text-slate-300\/90 {
  color: var(--fg) !important; /* strong readable text on light */
}

html:not(.dark) .text-slate-400,
html:not(.dark) .text-slate-400\/90 {
  color: var(--fg-soft) !important; /* meta text */
}

/* Inside light 'card' surfaces, force text to strong for legibility */
html:not(.dark) .bg-white\/5 .text-slate-300,
html:not(.dark) .bg-white\/5 .text-slate-300\/85,
html:not(.dark) .bg-white\/5 .text-slate-300\/90 {
  color: var(--fg) !important;
}

/* Header/nav links: full contrast in light mode */
html:not(.dark) header a,
html:not(.dark) nav a {
  color: var(--fg) !important;
  opacity: 1 !important;
  font-weight: 500;
}

/* Search chips (selected & idle) */
html:not(.dark) .border-cyan-400\/50 {
  border-color: rgba(14, 116, 144, 0.48) !important;
}
html:not(.dark) .bg-cyan-400\/10 {
  background-color: rgba(14, 116, 144, 0.12) !important;
}
html:not(.dark) .text-cyan-200,
html:not(.dark) .text-cyan-300 {
  color: #0e7490 !important;
} /* cyan-700 */
html:not(.dark) .border-white\/10 {
  border-color: var(--border) !important;
}
html:not(.dark) .bg-white\/5 {
  background-color: var(--surface) !important;
}
html:not(.dark) .hover\:bg-white\/5:hover {
  background-color: var(--surface-hover) !important;
}

/* Refutation/QA badges (keep readable on light) */
html:not(.dark) .text-amber-300 {
  color: #b45309 !important;
} /* amber-700 */
html:not(.dark) .text-fuchsia-300 {
  color: #a21caf !important;
} /* fuchsia-700 */
html:not(.dark) .text-emerald-300 {
  color: #047857 !important;
} /* emerald-700 */
html:not(.dark) .text-rose-200,
html:not(.dark) .text-rose-300 {
  color: #9f1239 !important;
} /* rose-700 */

/* Keep text on top of photos bright in both themes */
.on-image {
  color: #f1f5f9 !important; /* slate-100-ish */
  text-shadow: 0 1px 2px rgba(2, 6, 23, 0.35);
}
.on-image.dark,
html.dark .on-image {
  /* force bright for dark/overlays */
  color: #e6edf5 !important;
  text-shadow: 0 1px 2px rgba(2, 6, 23, 0.35);
}
